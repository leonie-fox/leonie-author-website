<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'de' }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    {% if page.title %}
      {{ page.title }}{% if site.title %} – {{ site.title }}{% endif %}
    {% else %}
      {{ site.title | default: "Leonie Wittkamp" }}
    {% endif %}
  </title>

  <!-- First paint guard to avoid white flash -->
  <style id="first-paint">
    :root {
      background: #0E1F33;
      color: #F4F4F4;
    }
    * {
      box-sizing: border-box;
    }
    body {
      background: #0E1F33;
      color: #F4F4F4;
      font-family: "Georgia", "Times New Roman", serif;
      margin: 0;
      min-height: 100vh;
    }
    a {
      color: #B69555;
    }
  </style>

  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <script type="speculationrules">
    {
      "prefetch": [
        {
          "source": "document",
          "where": { "selector_matches": "nav a[href^='/'], .footer-links a[href^='/']" },
          "eagerness": "moderate"
        }
      ]
    }
  </script>

  <link rel="apple-touch-icon" sizes="180x180" href="{{ '/apple-touch-icon.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ '/favicon-32x32.png' | relative_url }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ '/favicon-16x16.png' | relative_url }}">
  <link rel="manifest" href="{{ '/site.webmanifest' | relative_url }}">
</head>
<body>
  {% assign nav_active = page.nav_active | default: '' %}

  <header class="py-3 shadow-sm">
    <div class="container d-flex flex-wrap justify-content-between align-items-center">
      <a href="{{ '/' | relative_url }}" class="d-flex align-items-center text-decoration-none">
        <img src="{{ '/assets/img/logo.png' | relative_url }}" alt="Logo" class="logo-img">
      </a>

      <nav class="nav nav-pills mt-3 mt-md-0">
        <a class="nav-link{% if nav_active == 'home' %} active{% endif %}" href="{{ '/' | relative_url }}">Home</a>
        <a class="nav-link{% if nav_active == 'about' %} active{% endif %}" href="{{ '/about.html' | relative_url }}">Über mich</a>
        <a class="nav-link{% if nav_active == 'romane' %} active{% endif %}" href="{{ '/romane.html' | relative_url }}">Romane</a>
        <a class="nav-link{% if nav_active == 'termine' %} active{% endif %}" href="{{ '/termine.html' | relative_url }}">Termine</a>
        <a class="nav-link{% if nav_active == 'kontakt' %} active{% endif %}" href="{{ '/kontakt.html' | relative_url }}">Kontakt</a>
      </nav>
    </div>
  </header>

  <main id="content">
    {{ content }}
  </main>

  <footer class="py-4 mt-5">
    <div class="container text-center">
      <p class="small mb-1">© Leonie Wittkamp</p>

      <div class="footer-links d-flex justify-content-center align-items-center gap-3">
        <a href="{{ '/impressum.html' | relative_url }}">Impressum</a>
        <a href="{{ '/datenschutz.html' | relative_url }}">Datenschutz</a>

        <a
          href="https://www.instagram.com/autorin.leonie.wittkamp"
          target="_blank"
          rel="noopener"
          aria-label="Instagram"
        >
          <img
            src="{{ '/assets/img/instagram.png' | relative_url }}"
            alt="Instagram: autorin.leonie.wittkamp"
            class="footer-instagram"
          >
        </a>
      </div>
    </div>
  </footer>

  <script>
    window.addEventListener("DOMContentLoaded", function () {
      var firstPaint = document.getElementById("first-paint");
      if (firstPaint && firstPaint.parentNode) {
        firstPaint.parentNode.removeChild(firstPaint);
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="{{ '/assets/js/nav-prefetch.js' | relative_url }}"></script>
</body>
</html>
